<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lexer Submodule · SmartGameFormat.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>SmartGameFormat.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Internals</span><ul><li class="current"><a class="toctext" href>Lexer Submodule</a><ul class="internal"><li><a class="toctext" href="#Types-1">Types</a></li><li><a class="toctext" href="#Functions-1">Functions</a></li><li><a class="toctext" href="#Exceptions-1">Exceptions</a></li></ul></li><li><a class="toctext" href="../parser/">Parser Submodule</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Internals</li><li><a href>Lexer Submodule</a></li></ul><a class="edit-page" href="https://github.com/Evizero/SmartGameFormat.jl/blob/master/docs/src/lexer.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Lexer Submodule</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Lexer-Submodule-1" href="#Lexer-Submodule-1">Lexer Submodule</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Lexer" href="#SmartGameFormat.Lexer"><code>SmartGameFormat.Lexer</code></a> — <span class="docstring-category">Module</span>.</div><div><p>The <code>Lexer</code> sub-module is concerned with transcribing a given stream of characters into a sequence of domain specific lexical units called &quot;token&quot;.</p><p>Basic methodology:</p><ol><li><p>Wrap a plain <code>IO</code> object into a <a href="#SmartGameFormat.Lexer.CharStream"><code>Lexer.CharStream</code></a>.</p></li><li><p>Call <a href="#SmartGameFormat.Lexer.next_token"><code>Lexer.next_token</code></a> to collect another <a href="#SmartGameFormat.Lexer.Token"><code>Lexer.Token</code></a> from the character stream.</p></li><li><p>Goto 2. unless end of file is reached.</p></li></ol><p>For convenience the above process is simplified by providing the type <a href="#SmartGameFormat.Lexer.TokenStream"><code>Lexer.TokenStream</code></a>, which supports <code>eof</code>, <code>read</code> and <a href="#SmartGameFormat.Lexer.peek"><code>Lexer.peek</code></a>.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/e461a9d471e4caf670fa352a8a3bd5cb45ca0424/src/lexer.jl#L1-L16">source</a></section><h2><a class="nav-anchor" id="Types-1" href="#Types-1">Types</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Lexer.CharStream" href="#SmartGameFormat.Lexer.CharStream"><code>SmartGameFormat.Lexer.CharStream</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">CharStream(io::IO)</code></pre><p>Stateful decorator around <code>io</code> to keep track of some context information, as well as allow the use of <a href="#SmartGameFormat.Lexer.peek"><code>peek</code></a> (i.e. looking at the next character without consuming it).</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/e461a9d471e4caf670fa352a8a3bd5cb45ca0424/src/lexer.jl#L58-L64">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Lexer.TokenStream" href="#SmartGameFormat.Lexer.TokenStream"><code>SmartGameFormat.Lexer.TokenStream</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">TokenStream(cs::CharStream)</code></pre><p>Stateful decorator around <code>cs</code> to allow the use of <a href="#SmartGameFormat.Lexer.peek"><code>peek</code></a> (i.e. looking at the next <a href="#SmartGameFormat.Lexer.Token"><code>Token</code></a> without consuming it).</p><p>It uses the function <a href="#SmartGameFormat.Lexer.next_token"><code>next_token</code></a> to create a new <a href="#SmartGameFormat.Lexer.Token"><code>Token</code></a> from the current position of <code>cs</code> onwards.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/e461a9d471e4caf670fa352a8a3bd5cb45ca0424/src/lexer.jl#L192-L200">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Lexer.Token" href="#SmartGameFormat.Lexer.Token"><code>SmartGameFormat.Lexer.Token</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Token(name::Char, [value::String])</code></pre><p>A SGF specific lexical token. It can be either for the following:</p><ul><li><p><code>Token(&#39;\0&#39;)</code>: Empty token to denote trailing whitespaces.</p></li><li><p><code>Token(&#39;;&#39;)</code>: Separator for nodes.</p></li><li><p><code>Token(&#39;(&#39;)</code> and <code>Token(&#39;)&#39;)</code>: Delimiter for game trees.</p></li><li><p><code>Token(&#39;[&#39;)</code> and <code>Token(&#39;]&#39;)</code>: Delimiter for property values.</p></li><li><p><code>Token(&#39;I&#39;, &quot;AB1&quot;)</code>: Identifier for properties. In general these are made up of one or more uppercase letters. However, with the exception of the first position, digits are also allowed to occur. This is done in order to supported older FF versions.</p></li><li><p><code>Token(&#39;S&#39;, &quot;abc 23(\)&quot;)</code>: Any property value between <code>&#39;[&#39;</code> and <code>&#39;]&#39;</code>. This includes moves, numbers, simple text, and text.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/e461a9d471e4caf670fa352a8a3bd5cb45ca0424/src/lexer.jl#L32-L47">source</a></section><h2><a class="nav-anchor" id="Functions-1" href="#Functions-1">Functions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Lexer.peek" href="#SmartGameFormat.Lexer.peek"><code>SmartGameFormat.Lexer.peek</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">peek(cs::CharStream, ::Type{Char}) -&gt; Char</code></pre><p>Return the next <code>Char</code> in <code>cs</code> without consuming it, which means that the next time <code>peek</code> or <code>read</code> is called, the same <code>Char</code> will be returned.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/e461a9d471e4caf670fa352a8a3bd5cb45ca0424/src/lexer.jl#L75-L81">source</a><div><pre><code class="language-none">peek(ts::TokenStream, ::Type{Token}) -&gt; Token</code></pre><p>Return the next <a href="#SmartGameFormat.Lexer.Token"><code>Token</code></a> in <code>ts</code> without consuming it, which means that the next time <code>peek</code> or <code>read</code> is called, the same <a href="#SmartGameFormat.Lexer.Token"><code>Token</code></a> will be returned.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/e461a9d471e4caf670fa352a8a3bd5cb45ca0424/src/lexer.jl#L211-L217">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Lexer.next_token" href="#SmartGameFormat.Lexer.next_token"><code>SmartGameFormat.Lexer.next_token</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">next_token(cs::CharStream) -&gt; Token</code></pre><p>Reads and returns the next <a href="#SmartGameFormat.Lexer.Token"><code>Token</code></a> from the given character stream <code>cs</code>. If no more token are available, then a <code>EOFError</code> will be thrown.</p><p>Note that the lexer should support FF[1]-FF[4] versions. In case any unambiguously illegal character sequence is encountered, the function will throw a <a href="#SmartGameFormat.Lexer.LexicalError"><code>LexicalError</code></a>.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/e461a9d471e4caf670fa352a8a3bd5cb45ca0424/src/lexer.jl#L99-L109">source</a></section><h2><a class="nav-anchor" id="Exceptions-1" href="#Exceptions-1">Exceptions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Lexer.LexicalError" href="#SmartGameFormat.Lexer.LexicalError"><code>SmartGameFormat.Lexer.LexicalError</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">LexicalError(msg)</code></pre><p>The string or stream passed to <a href="#SmartGameFormat.Lexer.next_token"><code>Lexer.next_token</code></a> was not a valid sequence of characters according to the smart game format.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/e461a9d471e4caf670fa352a8a3bd5cb45ca0424/src/lexer.jl#L21-L27">source</a></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../parser/"><span class="direction">Next</span><span class="title">Parser Submodule</span></a></footer></article></body></html>
