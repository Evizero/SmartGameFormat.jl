<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Parser Submodule · SmartGameFormat.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>SmartGameFormat.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Internals</span><ul><li><a class="toctext" href="../lexer/">Lexer Submodule</a></li><li class="current"><a class="toctext" href>Parser Submodule</a><ul class="internal"><li><a class="toctext" href="#Types-1">Types</a></li><li><a class="toctext" href="#Functions-1">Functions</a></li><li><a class="toctext" href="#Exceptions-1">Exceptions</a></li></ul></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Internals</li><li><a href>Parser Submodule</a></li></ul><a class="edit-page" href="https://github.com/Evizero/SmartGameFormat.jl/blob/master/docs/src/parser.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Parser Submodule</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Parser-Submodule-1" href="#Parser-Submodule-1">Parser Submodule</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Parser" href="#SmartGameFormat.Parser"><code>SmartGameFormat.Parser</code></a> — <span class="docstring-category">Module</span>.</div><div><p>The <code>Parser</code> sub-module is concerned with converting a sequence of <a href="../lexer/#SmartGameFormat.Lexer.Token"><code>Lexer.Token</code></a> into a collection (i.e. a vector) of <a href="../#SmartGameFormat.SGFGameTree"><code>SGFGameTree</code></a>.</p><p>To that end it provides the following functionality:</p><ul><li><p><a href="#SmartGameFormat.Parser.parse"><code>Parser.parse</code></a></p></li><li><p><a href="#SmartGameFormat.Parser.tryparse"><code>Parser.tryparse</code></a></p></li><li><p><a href="#SmartGameFormat.Parser.ParseError"><code>Parser.ParseError</code></a></p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/3c8eb06925ae1a5dec3d33c6e951a99a9e82c14a/src/parser.jl#L1-L11">source</a></section><h2><a class="nav-anchor" id="Types-1" href="#Types-1">Types</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Parser.ParseContext" href="#SmartGameFormat.Parser.ParseContext"><code>SmartGameFormat.Parser.ParseContext</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">ParseContext()</code></pre><p>Context information used during parsing. It stores temporary data such as the encountered game type and file format version.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/3c8eb06925ae1a5dec3d33c6e951a99a9e82c14a/src/parser.jl#L29-L34">source</a></section><h2><a class="nav-anchor" id="Functions-1" href="#Functions-1">Functions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Parser.parse" href="#SmartGameFormat.Parser.parse"><code>SmartGameFormat.Parser.parse</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">parse(ts::Lexer.TokenStream) -&gt; Vector{SGFGameTree}</code></pre><p>Read all the lexical <a href="../lexer/#SmartGameFormat.Lexer.Token"><code>Lexer.Token</code></a> from the <a href="../lexer/#SmartGameFormat.Lexer.TokenStream"><code>Lexer.TokenStream</code></a> <code>ts</code>, and attempt to parse the sequence of token as an SGF collection. To accomplish this it uses the function <a href="#SmartGameFormat.Parser.tryparse"><code>tryparse</code></a>. If successful, the SGF collection is returned as a <code>Vector</code> of <a href="../#SmartGameFormat.SGFGameTree"><code>SGFGameTree</code></a>.</p><p>Depending on the content, any of the following exceptions may be thrown to signal that it is not a legal SGF specification.</p><ul><li><p><code>Base.EOFError</code>: Premature end-of-file encountered during tokenisation.</p></li><li><p><a href="../lexer/#SmartGameFormat.Lexer.LexicalError"><code>Lexer.LexicalError</code></a>: Illegal characters used outside property values. For example lower case letters for identifier.</p></li><li><p><a href="#SmartGameFormat.Parser.ParseError"><code>Parser.ParseError</code></a>: Content is not a valid SGF specification (while considering the given the FF version).</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/3c8eb06925ae1a5dec3d33c6e951a99a9e82c14a/src/parser.jl#L45-L65">source</a><div><pre><code class="language-none">parse(::Type{T}, ts::Lexer.TokenStream, ctx::ParseContext) -&gt; T</code></pre><p>Same as the corresponding <a href="#SmartGameFormat.Parser.tryparse"><code>tryparse</code></a> method, but instead of returning a <code>Nullable</code> it throws a <a href="#SmartGameFormat.Parser.ParseError"><code>ParseError</code></a> if it is unable to parse the next <code>N</code> token in <code>ts</code> to type <code>T</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/3c8eb06925ae1a5dec3d33c6e951a99a9e82c14a/src/parser.jl#L70-L76">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Parser.tryparse" href="#SmartGameFormat.Parser.tryparse"><code>SmartGameFormat.Parser.tryparse</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">tryparse(::Type{Vector{SGFGameTree}}, ts::Lexer.TokenStream, ctx::ParseContext) -&gt; Nullable{Vector{SGFGameTree}}</code></pre><p>Try to parse the next <code>N</code> token in <code>ts</code> as a <code>Vector</code> of <a href="../#SmartGameFormat.SGFGameTree"><code>SGFGameTree</code></a>. Such a vector is called a &quot;collection&quot;. For a collection to occur there must be at least one parse-able <a href="../#SmartGameFormat.SGFGameTree"><code>SGFGameTree</code></a> in <code>ts</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/3c8eb06925ae1a5dec3d33c6e951a99a9e82c14a/src/parser.jl#L85-L92">source</a><div><pre><code class="language-none">tryparse(::Type{SGFGameTree}, ts::Lexer.TokenStream, ctx::ParseContext) -&gt; Nullable{SGFGameTree}</code></pre><p>Try to parse the next <code>N</code> token in <code>ts</code> into a <a href="../#SmartGameFormat.SGFGameTree"><code>SGFGameTree</code></a>.</p><p>A game tree must start with a <code>Token(&#39;(&#39;)</code>, followed by one or more <a href="../#SmartGameFormat.SGFNode"><code>SGFNode</code></a>, followed by zero or more sub-<a href="../#SmartGameFormat.SGFGameTree"><code>SGFGameTree</code></a>, and finally end with a <code>Token(&#39;)&#39;)</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/3c8eb06925ae1a5dec3d33c6e951a99a9e82c14a/src/parser.jl#L108-L117">source</a><div><pre><code class="language-none">tryparse(::Type{SGFNode}, ts::Lexer.TokenStream, ctx::ParseContext) -&gt; Nullable{SGFNode}</code></pre><p>Try to parse the next <code>N</code> token in <code>ts</code> into a <a href="../#SmartGameFormat.SGFNode"><code>SGFNode</code></a>, which means that the immediate next element in <code>ts</code> is expected to be <code>Token(&#39;;&#39;)</code> followed by zero or more properties. Each property must have a unique identifier, or a <a href="#SmartGameFormat.Parser.ParseError"><code>ParseError</code></a> will be thrown.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/3c8eb06925ae1a5dec3d33c6e951a99a9e82c14a/src/parser.jl#L147-L155">source</a><div><pre><code class="language-none">tryparse(::Type{Pair}, ts::Lexer.TokenStream, ctx::ParseContext) -&gt; Nullable{Pair{Symbol,Vector{Any}}}</code></pre><p>Try to parse the next <code>N</code> token in <code>ts</code> into a <code>Pair</code> denoting a single property of a <a href="../#SmartGameFormat.SGFNode"><code>SGFNode</code></a>. Note that individual properties are parsed as <code>Pair</code>, because each <a href="../#SmartGameFormat.SGFNode"><code>SGFNode</code></a> stores all its properties as a single <code>Dict</code>.</p><p>For a property to occur in <code>ts</code>, the immediate next element in <code>ts</code> must be a <code>Token(&#39;I&#39;, &quot;&lt;ID&gt;&quot;)</code>, where <code>&lt;ID&gt;</code> is some sequence of uppercase letters denoting the identifier of the token. After the identifier there can be one or more property <em>values</em>. There must be at least one property value.</p><p>Each property value must be delimited by a <code>Token(&#39;[&#39;)</code> at the beginning and a <code>Token(&#39;]&#39;)</code> at the end. The value itself is contained within those two delimiter token as a single <code>Token(&#39;S&#39;, &quot;&lt;val&gt;&quot;)</code> where <code>&lt;val&gt;</code> denotes the value. Note that this &quot;S&quot; token is optional and its absence means that the property value is the empty value.</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/3c8eb06925ae1a5dec3d33c6e951a99a9e82c14a/src/parser.jl#L173-L193">source</a></section><h2><a class="nav-anchor" id="Exceptions-1" href="#Exceptions-1">Exceptions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SmartGameFormat.Parser.ParseError" href="#SmartGameFormat.Parser.ParseError"><code>SmartGameFormat.Parser.ParseError</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">ParseError(msg)</code></pre><p>The expression passed to <code>Parser.parse</code> could not be interpreted as a valid SGF specification (in accordance with the specified FF version).</p></div><a class="source-link" target="_blank" href="https://github.com/Evizero/SmartGameFormat.jl/blob/3c8eb06925ae1a5dec3d33c6e951a99a9e82c14a/src/parser.jl#L18-L24">source</a></section><footer><hr/><a class="previous" href="../lexer/"><span class="direction">Previous</span><span class="title">Lexer Submodule</span></a></footer></article></body></html>
